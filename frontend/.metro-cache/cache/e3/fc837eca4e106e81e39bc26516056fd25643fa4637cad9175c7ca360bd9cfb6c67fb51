{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":131},"end":{"line":3,"column":47,"index":178}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":40,"index":219}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":220},"end":{"line":5,"column":69,"index":289}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":290},"end":{"line":6,"column":39,"index":329}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":330},"end":{"line":7,"column":89,"index":419}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":420},"end":{"line":8,"column":45,"index":465}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoWebBrowser = require(_dependencyMap[2], \"expo-web-browser\");\n  var WebBrowser = _interopNamespace(_expoWebBrowser);\n  var _expoLinking = require(_dependencyMap[3], \"expo-linking\");\n  var Linking = _interopNamespace(_expoLinking);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[5], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _utilsApi = require(_dependencyMap[6], \"../utils/api\");\n  var _storeUseStore = require(_dependencyMap[7], \"../store/useStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  WebBrowser.maybeCompleteAuthSession();\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    isAuthenticated: false,\n    isLoading: true,\n    user: null,\n    login: async () => {},\n    logout: async () => {},\n    needsOnboarding: false,\n    setUser: () => {},\n    setNeedsOnboarding: () => {}\n  });\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const [needsOnboarding, setNeedsOnboarding] = (0, _react.useState)(false);\n    const {\n      user,\n      setUser\n    } = (0, _storeUseStore.useStore)();\n    const checkExistingSession = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          (0, _utilsApi.setAuthToken)(token);\n          const userData = await (0, _utilsApi.getMe)();\n          setUser(userData);\n          setIsAuthenticated(true);\n\n          // Check if needs onboarding\n          if (!userData.height || !userData.weight || !userData.age || !userData.gender) {\n            setNeedsOnboarding(true);\n          } else {\n            setNeedsOnboarding(false);\n          }\n        }\n      } catch (error) {\n        console.error('Error checking session:', error);\n        await AsyncStorage.default.removeItem('session_token');\n        (0, _utilsApi.setAuthToken)(null);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      checkExistingSession();\n\n      // Handle web platform - check URL for session_id\n      if (Platform.default.OS === 'web') {\n        const currentUrl = window.location.href;\n        if (currentUrl.includes('session_id=')) {\n          handleAuthRedirect(currentUrl);\n        }\n      }\n\n      // Handle deep links (cold start)\n      Linking.getInitialURL().then(url => {\n        if (url) {\n          handleAuthRedirect(url);\n        }\n      });\n\n      // Handle deep links (hot link)\n      const subscription = Linking.addEventListener('url', ({\n        url\n      }) => {\n        handleAuthRedirect(url);\n      });\n      return () => {\n        subscription.remove();\n      };\n    }, []);\n    const handleAuthRedirect = async url => {\n      try {\n        // Check for error first\n        if (url.includes('error=') || url.includes('detail')) {\n          console.log('Auth error detected in URL, ignoring');\n          return;\n        }\n\n        // Parse session_id from URL\n        let sessionId = null;\n\n        // Try hash first (#session_id=...)\n        if (url.includes('#session_id=')) {\n          sessionId = url.split('#session_id=')[1].split('&')[0];\n        }\n        // Try query param (?session_id=...)\n        else if (url.includes('?session_id=')) {\n          sessionId = url.split('?session_id=')[1].split('&')[0];\n        }\n        if (sessionId) {\n          setIsLoading(true);\n\n          // Exchange session_id for session_token\n          const response = await (0, _utilsApi.exchangeSession)(sessionId);\n          const token = response.session_token;\n\n          // Store token\n          await AsyncStorage.default.setItem('session_token', token);\n          (0, _utilsApi.setAuthToken)(token);\n\n          // Get user data\n          const userData = await (0, _utilsApi.getMe)();\n          setUser(userData);\n          setIsAuthenticated(true);\n\n          // Check if needs onboarding\n          if (!userData.height || !userData.weight || !userData.age || !userData.gender) {\n            setNeedsOnboarding(true);\n          } else {\n            setNeedsOnboarding(false);\n          }\n          setIsLoading(false);\n        }\n      } catch (error) {\n        console.error('Error handling auth redirect:', error);\n        setIsLoading(false);\n      }\n    };\n    const login = async () => {\n      try {\n        const redirectUrl = Platform.default.OS === 'web' ? `${BACKEND_URL}/` : Linking.createURL('/');\n        const authUrl = `https://auth.emergentagent.com/?redirect=${encodeURIComponent(redirectUrl)}`;\n        if (Platform.default.OS === 'web') {\n          // Web: Just redirect\n          window.location.href = authUrl;\n        } else {\n          // Mobile: Use WebBrowser\n          const result = await WebBrowser.openAuthSessionAsync(authUrl, redirectUrl);\n          if (result.type === 'success' && result.url) {\n            await handleAuthRedirect(result.url);\n          }\n        }\n      } catch (error) {\n        console.error('Error during login:', error);\n      }\n    };\n    const logout = async () => {\n      try {\n        await (0, _utilsApi.logout)();\n      } catch (error) {\n        console.error('Error during logout:', error);\n      } finally {\n        // Clear local session\n        await AsyncStorage.default.removeItem('session_token');\n        (0, _utilsApi.setAuthToken)(null);\n        setUser(null);\n        setIsAuthenticated(false);\n        setNeedsOnboarding(false);\n\n        // Redirect to Gmail logout\n        const gmailLogoutUrl = 'https://mail.google.com/mail/u/0/?logout&hl=en';\n        if (Platform.default.OS === 'web') {\n          window.open(gmailLogoutUrl, '_blank');\n        } else {\n          await WebBrowser.openBrowserAsync(gmailLogoutUrl);\n        }\n      }\n    };\n    const handleSetUser = userData => {\n      setUser(userData);\n      if (userData) {\n        setIsAuthenticated(true);\n        if (!userData.height || !userData.weight || !userData.age || !userData.gender) {\n          setNeedsOnboarding(true);\n        } else {\n          setNeedsOnboarding(false);\n        }\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        isLoading,\n        user,\n        login,\n        logout,\n        needsOnboarding,\n        setUser: handleSetUser,\n        setNeedsOnboarding\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":246,"map":[[28,2,36,0,"Object"],[28,8,36,0],[28,9,36,0,"defineProperty"],[28,23,36,0],[28,24,36,0,"exports"],[28,31,36,0],[29,4,36,0,"enumerable"],[29,14,36,0],[30,4,36,0,"get"],[30,7,36,0],[30,18,36,0,"get"],[30,19,36,0],[31,6,36,0],[31,13,36,0,"useAuth"],[31,20,36,0],[32,4,36,0],[33,2,36,0],[34,2,42,0,"Object"],[34,8,42,0],[34,9,42,0,"defineProperty"],[34,23,42,0],[34,24,42,0,"exports"],[34,31,42,0],[35,4,42,0,"enumerable"],[35,14,42,0],[36,4,42,0,"get"],[36,7,42,0],[36,18,42,0,"get"],[36,19,42,0],[37,6,42,0],[37,13,42,0,"AuthProvider"],[37,25,42,0],[38,4,42,0],[39,2,42,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,1,89],[41,6,1,89,"_reactNativeWebDistExportsPlatform"],[41,40,1,89],[41,43,1,89,"require"],[41,50,1,89],[41,51,1,89,"_dependencyMap"],[41,65,1,89],[42,2,1,89],[42,6,1,89,"Platform"],[42,14,1,89],[42,17,1,89,"_interopDefault"],[42,32,1,89],[42,33,1,89,"_reactNativeWebDistExportsPlatform"],[42,67,1,89],[43,2,3,0],[43,6,3,0,"_expoWebBrowser"],[43,21,3,0],[43,24,3,0,"require"],[43,31,3,0],[43,32,3,0,"_dependencyMap"],[43,46,3,0],[44,2,3,0],[44,6,3,0,"WebBrowser"],[44,16,3,0],[44,19,3,0,"_interopNamespace"],[44,36,3,0],[44,37,3,0,"_expoWebBrowser"],[44,52,3,0],[45,2,4,0],[45,6,4,0,"_expoLinking"],[45,18,4,0],[45,21,4,0,"require"],[45,28,4,0],[45,29,4,0,"_dependencyMap"],[45,43,4,0],[46,2,4,0],[46,6,4,0,"Linking"],[46,13,4,0],[46,16,4,0,"_interopNamespace"],[46,33,4,0],[46,34,4,0,"_expoLinking"],[46,46,4,0],[47,2,5,0],[47,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[47,42,5,0],[47,45,5,0,"require"],[47,52,5,0],[47,53,5,0,"_dependencyMap"],[47,67,5,0],[48,2,5,0],[48,6,5,0,"AsyncStorage"],[48,18,5,0],[48,21,5,0,"_interopDefault"],[48,36,5,0],[48,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[48,73,5,0],[49,2,6,0],[49,6,6,0,"_expoConstants"],[49,20,6,0],[49,23,6,0,"require"],[49,30,6,0],[49,31,6,0,"_dependencyMap"],[49,45,6,0],[50,2,6,0],[50,6,6,0,"Constants"],[50,15,6,0],[50,18,6,0,"_interopDefault"],[50,33,6,0],[50,34,6,0,"_expoConstants"],[50,48,6,0],[51,2,7,0],[51,6,7,0,"_utilsApi"],[51,15,7,0],[51,18,7,0,"require"],[51,25,7,0],[51,26,7,0,"_dependencyMap"],[51,40,7,0],[52,2,8,0],[52,6,8,0,"_storeUseStore"],[52,20,8,0],[52,23,8,0,"require"],[52,30,8,0],[52,31,8,0,"_dependencyMap"],[52,45,8,0],[53,2,8,45],[53,6,8,45,"_reactJsxDevRuntime"],[53,25,8,45],[53,28,8,45,"require"],[53,35,8,45],[53,36,8,45,"_dependencyMap"],[53,50,8,45],[54,2,10,0,"WebBrowser"],[54,12,10,10],[54,13,10,11,"maybeCompleteAuthSession"],[54,37,10,35],[54,38,10,36],[54,39,10,37],[55,2,12,0],[55,8,12,6,"BACKEND_URL"],[55,19,12,17],[55,22,12,20,"Constants"],[55,31,12,29],[55,32,12,29,"default"],[55,39,12,29],[55,40,12,30,"expoConfig"],[55,50,12,40],[55,52,12,42,"extra"],[55,57,12,47],[55,59,12,49,"EXPO_PUBLIC_BACKEND_URL"],[55,82,12,72],[55,86,12,76,"process"],[55,93,12,83],[55,94,12,84,"env"],[55,97,12,87],[55,98,12,88,"EXPO_PUBLIC_BACKEND_URL"],[55,121,12,111],[55,125,12,115],[55,127,12,117],[56,2,25,0],[56,8,25,6,"AuthContext"],[56,19,25,17],[56,35,25,20],[56,39,25,20,"createContext"],[56,45,25,33],[56,46,25,33,"createContext"],[56,59,25,33],[56,61,25,51],[57,4,26,2,"isAuthenticated"],[57,19,26,17],[57,21,26,19],[57,26,26,24],[58,4,27,2,"isLoading"],[58,13,27,11],[58,15,27,13],[58,19,27,17],[59,4,28,2,"user"],[59,8,28,6],[59,10,28,8],[59,14,28,12],[60,4,29,2,"login"],[60,9,29,7],[60,11,29,9],[60,17,29,9,"login"],[60,18,29,9],[60,23,29,21],[60,24,29,22],[60,25,29,23],[61,4,30,2,"logout"],[61,10,30,8],[61,12,30,10],[61,18,30,10,"logout"],[61,19,30,10],[61,24,30,22],[61,25,30,23],[61,26,30,24],[62,4,31,2,"needsOnboarding"],[62,19,31,17],[62,21,31,19],[62,26,31,24],[63,4,32,2,"setUser"],[63,11,32,9],[63,13,32,11,"setUser"],[63,14,32,11],[63,19,32,17],[63,20,32,18],[63,21,32,19],[64,4,33,2,"setNeedsOnboarding"],[64,22,33,20],[64,24,33,22,"setNeedsOnboarding"],[64,25,33,22],[64,30,33,28],[64,31,33,29],[65,2,34,0],[65,3,34,1],[65,4,34,2],[66,2,36,7],[66,8,36,13,"useAuth"],[66,15,36,20],[66,18,36,23,"useAuth"],[66,19,36,23],[66,24,36,29],[66,28,36,29,"useContext"],[66,34,36,39],[66,35,36,39,"useContext"],[66,45,36,39],[66,47,36,40,"AuthContext"],[66,58,36,51],[66,59,36,52],[67,2,42,7],[67,8,42,13,"AuthProvider"],[67,20,42,54],[67,23,42,57,"AuthProvider"],[67,24,42,58],[68,4,42,60,"children"],[69,2,42,69],[69,3,42,70],[69,8,42,75],[70,4,43,2],[70,10,43,8],[70,11,43,9,"isAuthenticated"],[70,26,43,24],[70,28,43,26,"setIsAuthenticated"],[70,46,43,44],[70,47,43,45],[70,50,43,48],[70,54,43,48,"useState"],[70,60,43,56],[70,61,43,56,"useState"],[70,69,43,56],[70,71,43,57],[70,76,43,62],[70,77,43,63],[71,4,44,2],[71,10,44,8],[71,11,44,9,"isLoading"],[71,20,44,18],[71,22,44,20,"setIsLoading"],[71,34,44,32],[71,35,44,33],[71,38,44,36],[71,42,44,36,"useState"],[71,48,44,44],[71,49,44,44,"useState"],[71,57,44,44],[71,59,44,45],[71,63,44,49],[71,64,44,50],[72,4,45,2],[72,10,45,8],[72,11,45,9,"needsOnboarding"],[72,26,45,24],[72,28,45,26,"setNeedsOnboarding"],[72,46,45,44],[72,47,45,45],[72,50,45,48],[72,54,45,48,"useState"],[72,60,45,56],[72,61,45,56,"useState"],[72,69,45,56],[72,71,45,57],[72,76,45,62],[72,77,45,63],[73,4,46,2],[73,10,46,8],[74,6,46,10,"user"],[74,10,46,14],[75,6,46,16,"setUser"],[76,4,46,24],[76,5,46,25],[76,8,46,28],[76,12,46,28,"useStore"],[76,26,46,36],[76,27,46,36,"useStore"],[76,35,46,36],[76,37,46,37],[76,38,46,38],[77,4,48,2],[77,10,48,8,"checkExistingSession"],[77,30,48,28],[77,33,48,31],[77,39,48,31,"checkExistingSession"],[77,40,48,31],[77,45,48,43],[78,6,49,4],[78,10,49,8],[79,8,50,6],[79,14,50,12,"token"],[79,19,50,17],[79,22,50,20],[79,28,50,26,"AsyncStorage"],[79,40,50,38],[79,41,50,38,"default"],[79,48,50,38],[79,49,50,39,"getItem"],[79,56,50,46],[79,57,50,47],[79,72,50,62],[79,73,50,63],[80,8,51,6],[80,12,51,10,"token"],[80,17,51,15],[80,19,51,17],[81,10,52,8],[81,14,52,8,"setAuthToken"],[81,23,52,20],[81,24,52,20,"setAuthToken"],[81,36,52,20],[81,38,52,21,"token"],[81,43,52,26],[81,44,52,27],[82,10,53,8],[82,16,53,14,"userData"],[82,24,53,22],[82,27,53,25],[82,33,53,31],[82,37,53,31,"getMe"],[82,46,53,36],[82,47,53,36,"getMe"],[82,52,53,36],[82,54,53,37],[82,55,53,38],[83,10,54,8,"setUser"],[83,17,54,15],[83,18,54,16,"userData"],[83,26,54,24],[83,27,54,25],[84,10,55,8,"setIsAuthenticated"],[84,28,55,26],[84,29,55,27],[84,33,55,31],[84,34,55,32],[86,10,57,8],[87,10,58,8],[87,14,58,12],[87,15,58,13,"userData"],[87,23,58,21],[87,24,58,22,"height"],[87,30,58,28],[87,34,58,32],[87,35,58,33,"userData"],[87,43,58,41],[87,44,58,42,"weight"],[87,50,58,48],[87,54,58,52],[87,55,58,53,"userData"],[87,63,58,61],[87,64,58,62,"age"],[87,67,58,65],[87,71,58,69],[87,72,58,70,"userData"],[87,80,58,78],[87,81,58,79,"gender"],[87,87,58,85],[87,89,58,87],[88,12,59,10,"setNeedsOnboarding"],[88,30,59,28],[88,31,59,29],[88,35,59,33],[88,36,59,34],[89,10,60,8],[89,11,60,9],[89,17,60,15],[90,12,61,10,"setNeedsOnboarding"],[90,30,61,28],[90,31,61,29],[90,36,61,34],[90,37,61,35],[91,10,62,8],[92,8,63,6],[93,6,64,4],[93,7,64,5],[93,8,64,6],[93,15,64,13,"error"],[93,20,64,18],[93,22,64,20],[94,8,65,6,"console"],[94,15,65,13],[94,16,65,14,"error"],[94,21,65,19],[94,22,65,20],[94,47,65,45],[94,49,65,47,"error"],[94,54,65,52],[94,55,65,53],[95,8,66,6],[95,14,66,12,"AsyncStorage"],[95,26,66,24],[95,27,66,24,"default"],[95,34,66,24],[95,35,66,25,"removeItem"],[95,45,66,35],[95,46,66,36],[95,61,66,51],[95,62,66,52],[96,8,67,6],[96,12,67,6,"setAuthToken"],[96,21,67,18],[96,22,67,18,"setAuthToken"],[96,34,67,18],[96,36,67,19],[96,40,67,23],[96,41,67,24],[97,6,68,4],[97,7,68,5],[97,16,68,14],[98,8,69,6,"setIsLoading"],[98,20,69,18],[98,21,69,19],[98,26,69,24],[98,27,69,25],[99,6,70,4],[100,4,71,2],[100,5,71,3],[101,4,73,2],[101,8,73,2,"useEffect"],[101,14,73,11],[101,15,73,11,"useEffect"],[101,24,73,11],[101,26,73,12],[101,32,73,18],[102,6,74,4,"checkExistingSession"],[102,26,74,24],[102,27,74,25],[102,28,74,26],[104,6,76,4],[105,6,77,4],[105,10,77,8,"Platform"],[105,18,77,16],[105,19,77,16,"default"],[105,26,77,16],[105,27,77,17,"OS"],[105,29,77,19],[105,34,77,24],[105,39,77,29],[105,41,77,31],[106,8,78,6],[106,14,78,12,"currentUrl"],[106,24,78,22],[106,27,78,25,"window"],[106,33,78,31],[106,34,78,32,"location"],[106,42,78,40],[106,43,78,41,"href"],[106,47,78,45],[107,8,79,6],[107,12,79,10,"currentUrl"],[107,22,79,20],[107,23,79,21,"includes"],[107,31,79,29],[107,32,79,30],[107,45,79,43],[107,46,79,44],[107,48,79,46],[108,10,80,8,"handleAuthRedirect"],[108,28,80,26],[108,29,80,27,"currentUrl"],[108,39,80,37],[108,40,80,38],[109,8,81,6],[110,6,82,4],[112,6,84,4],[113,6,85,4,"Linking"],[113,13,85,11],[113,14,85,12,"getInitialURL"],[113,27,85,25],[113,28,85,26],[113,29,85,27],[113,30,85,28,"then"],[113,34,85,32],[113,35,85,34,"url"],[113,38,85,37],[113,42,85,42],[114,8,86,6],[114,12,86,10,"url"],[114,15,86,13],[114,17,86,15],[115,10,87,8,"handleAuthRedirect"],[115,28,87,26],[115,29,87,27,"url"],[115,32,87,30],[115,33,87,31],[116,8,88,6],[117,6,89,4],[117,7,89,5],[117,8,89,6],[119,6,91,4],[120,6,92,4],[120,12,92,10,"subscription"],[120,24,92,22],[120,27,92,25,"Linking"],[120,34,92,32],[120,35,92,33,"addEventListener"],[120,51,92,49],[120,52,92,50],[120,57,92,55],[120,59,92,57],[120,60,92,58],[121,8,92,60,"url"],[122,6,92,64],[122,7,92,65],[122,12,92,70],[123,8,93,6,"handleAuthRedirect"],[123,26,93,24],[123,27,93,25,"url"],[123,30,93,28],[123,31,93,29],[124,6,94,4],[124,7,94,5],[124,8,94,6],[125,6,96,4],[125,13,96,11],[125,19,96,17],[126,8,97,6,"subscription"],[126,20,97,18],[126,21,97,19,"remove"],[126,27,97,25],[126,28,97,26],[126,29,97,27],[127,6,98,4],[127,7,98,5],[128,4,99,2],[128,5,99,3],[128,7,99,5],[128,9,99,7],[128,10,99,8],[129,4,101,2],[129,10,101,8,"handleAuthRedirect"],[129,28,101,26],[129,31,101,29],[129,37,101,36,"url"],[129,40,101,47],[129,44,101,52],[130,6,102,4],[130,10,102,8],[131,8,103,6],[132,8,104,6],[132,12,104,10,"url"],[132,15,104,13],[132,16,104,14,"includes"],[132,24,104,22],[132,25,104,23],[132,33,104,31],[132,34,104,32],[132,38,104,36,"url"],[132,41,104,39],[132,42,104,40,"includes"],[132,50,104,48],[132,51,104,49],[132,59,104,57],[132,60,104,58],[132,62,104,60],[133,10,105,8,"console"],[133,17,105,15],[133,18,105,16,"log"],[133,21,105,19],[133,22,105,20],[133,60,105,58],[133,61,105,59],[134,10,106,8],[135,8,107,6],[137,8,109,6],[138,8,110,6],[138,12,110,10,"sessionId"],[138,21,110,19],[138,24,110,22],[138,28,110,26],[140,8,112,6],[141,8,113,6],[141,12,113,10,"url"],[141,15,113,13],[141,16,113,14,"includes"],[141,24,113,22],[141,25,113,23],[141,39,113,37],[141,40,113,38],[141,42,113,40],[142,10,114,8,"sessionId"],[142,19,114,17],[142,22,114,20,"url"],[142,25,114,23],[142,26,114,24,"split"],[142,31,114,29],[142,32,114,30],[142,46,114,44],[142,47,114,45],[142,48,114,46],[142,49,114,47],[142,50,114,48],[142,51,114,49,"split"],[142,56,114,54],[142,57,114,55],[142,60,114,58],[142,61,114,59],[142,62,114,60],[142,63,114,61],[142,64,114,62],[143,8,115,6],[144,8,116,6],[145,8,116,6],[145,13,117,11],[145,17,117,15,"url"],[145,20,117,18],[145,21,117,19,"includes"],[145,29,117,27],[145,30,117,28],[145,44,117,42],[145,45,117,43],[145,47,117,45],[146,10,118,8,"sessionId"],[146,19,118,17],[146,22,118,20,"url"],[146,25,118,23],[146,26,118,24,"split"],[146,31,118,29],[146,32,118,30],[146,46,118,44],[146,47,118,45],[146,48,118,46],[146,49,118,47],[146,50,118,48],[146,51,118,49,"split"],[146,56,118,54],[146,57,118,55],[146,60,118,58],[146,61,118,59],[146,62,118,60],[146,63,118,61],[146,64,118,62],[147,8,119,6],[148,8,121,6],[148,12,121,10,"sessionId"],[148,21,121,19],[148,23,121,21],[149,10,122,8,"setIsLoading"],[149,22,122,20],[149,23,122,21],[149,27,122,25],[149,28,122,26],[151,10,124,8],[152,10,125,8],[152,16,125,14,"response"],[152,24,125,22],[152,27,125,25],[152,33,125,31],[152,37,125,31,"exchangeSession"],[152,46,125,46],[152,47,125,46,"exchangeSession"],[152,62,125,46],[152,64,125,47,"sessionId"],[152,73,125,56],[152,74,125,57],[153,10,126,8],[153,16,126,14,"token"],[153,21,126,19],[153,24,126,22,"response"],[153,32,126,30],[153,33,126,31,"session_token"],[153,46,126,44],[155,10,128,8],[156,10,129,8],[156,16,129,14,"AsyncStorage"],[156,28,129,26],[156,29,129,26,"default"],[156,36,129,26],[156,37,129,27,"setItem"],[156,44,129,34],[156,45,129,35],[156,60,129,50],[156,62,129,52,"token"],[156,67,129,57],[156,68,129,58],[157,10,130,8],[157,14,130,8,"setAuthToken"],[157,23,130,20],[157,24,130,20,"setAuthToken"],[157,36,130,20],[157,38,130,21,"token"],[157,43,130,26],[157,44,130,27],[159,10,132,8],[160,10,133,8],[160,16,133,14,"userData"],[160,24,133,22],[160,27,133,25],[160,33,133,31],[160,37,133,31,"getMe"],[160,46,133,36],[160,47,133,36,"getMe"],[160,52,133,36],[160,54,133,37],[160,55,133,38],[161,10,134,8,"setUser"],[161,17,134,15],[161,18,134,16,"userData"],[161,26,134,24],[161,27,134,25],[162,10,135,8,"setIsAuthenticated"],[162,28,135,26],[162,29,135,27],[162,33,135,31],[162,34,135,32],[164,10,137,8],[165,10,138,8],[165,14,138,12],[165,15,138,13,"userData"],[165,23,138,21],[165,24,138,22,"height"],[165,30,138,28],[165,34,138,32],[165,35,138,33,"userData"],[165,43,138,41],[165,44,138,42,"weight"],[165,50,138,48],[165,54,138,52],[165,55,138,53,"userData"],[165,63,138,61],[165,64,138,62,"age"],[165,67,138,65],[165,71,138,69],[165,72,138,70,"userData"],[165,80,138,78],[165,81,138,79,"gender"],[165,87,138,85],[165,89,138,87],[166,12,139,10,"setNeedsOnboarding"],[166,30,139,28],[166,31,139,29],[166,35,139,33],[166,36,139,34],[167,10,140,8],[167,11,140,9],[167,17,140,15],[168,12,141,10,"setNeedsOnboarding"],[168,30,141,28],[168,31,141,29],[168,36,141,34],[168,37,141,35],[169,10,142,8],[170,10,144,8,"setIsLoading"],[170,22,144,20],[170,23,144,21],[170,28,144,26],[170,29,144,27],[171,8,145,6],[172,6,146,4],[172,7,146,5],[172,8,146,6],[172,15,146,13,"error"],[172,20,146,18],[172,22,146,20],[173,8,147,6,"console"],[173,15,147,13],[173,16,147,14,"error"],[173,21,147,19],[173,22,147,20],[173,53,147,51],[173,55,147,53,"error"],[173,60,147,58],[173,61,147,59],[174,8,148,6,"setIsLoading"],[174,20,148,18],[174,21,148,19],[174,26,148,24],[174,27,148,25],[175,6,149,4],[176,4,150,2],[176,5,150,3],[177,4,152,2],[177,10,152,8,"login"],[177,15,152,13],[177,18,152,16],[177,24,152,16,"login"],[177,25,152,16],[177,30,152,28],[178,6,153,4],[178,10,153,8],[179,8,154,6],[179,14,154,12,"redirectUrl"],[179,25,154,23],[179,28,154,26,"Platform"],[179,36,154,34],[179,37,154,34,"default"],[179,44,154,34],[179,45,154,35,"OS"],[179,47,154,37],[179,52,154,42],[179,57,154,47],[179,60,155,10],[179,63,155,13,"BACKEND_URL"],[179,74,155,24],[179,77,155,27],[179,80,156,10,"Linking"],[179,87,156,17],[179,88,156,18,"createURL"],[179,97,156,27],[179,98,156,28],[179,101,156,31],[179,102,156,32],[180,8,158,6],[180,14,158,12,"authUrl"],[180,21,158,19],[180,24,158,22],[180,68,158,66,"encodeURIComponent"],[180,86,158,84],[180,87,158,85,"redirectUrl"],[180,98,158,96],[180,99,158,97],[180,101,158,99],[181,8,160,6],[181,12,160,10,"Platform"],[181,20,160,18],[181,21,160,18,"default"],[181,28,160,18],[181,29,160,19,"OS"],[181,31,160,21],[181,36,160,26],[181,41,160,31],[181,43,160,33],[182,10,161,8],[183,10,162,8,"window"],[183,16,162,14],[183,17,162,15,"location"],[183,25,162,23],[183,26,162,24,"href"],[183,30,162,28],[183,33,162,31,"authUrl"],[183,40,162,38],[184,8,163,6],[184,9,163,7],[184,15,163,13],[185,10,164,8],[186,10,165,8],[186,16,165,14,"result"],[186,22,165,20],[186,25,165,23],[186,31,165,29,"WebBrowser"],[186,41,165,39],[186,42,165,40,"openAuthSessionAsync"],[186,62,165,60],[186,63,165,61,"authUrl"],[186,70,165,68],[186,72,165,70,"redirectUrl"],[186,83,165,81],[186,84,165,82],[187,10,167,8],[187,14,167,12,"result"],[187,20,167,18],[187,21,167,19,"type"],[187,25,167,23],[187,30,167,28],[187,39,167,37],[187,43,167,41,"result"],[187,49,167,47],[187,50,167,48,"url"],[187,53,167,51],[187,55,167,53],[188,12,168,10],[188,18,168,16,"handleAuthRedirect"],[188,36,168,34],[188,37,168,35,"result"],[188,43,168,41],[188,44,168,42,"url"],[188,47,168,45],[188,48,168,46],[189,10,169,8],[190,8,170,6],[191,6,171,4],[191,7,171,5],[191,8,171,6],[191,15,171,13,"error"],[191,20,171,18],[191,22,171,20],[192,8,172,6,"console"],[192,15,172,13],[192,16,172,14,"error"],[192,21,172,19],[192,22,172,20],[192,43,172,41],[192,45,172,43,"error"],[192,50,172,48],[192,51,172,49],[193,6,173,4],[194,4,174,2],[194,5,174,3],[195,4,176,2],[195,10,176,8,"logout"],[195,16,176,14],[195,19,176,17],[195,25,176,17,"logout"],[195,26,176,17],[195,31,176,29],[196,6,177,4],[196,10,177,8],[197,8,178,6],[197,14,178,12],[197,18,178,12,"apiLogout"],[197,27,178,21],[197,28,178,21,"logout"],[197,34,178,21],[197,36,178,22],[197,37,178,23],[198,6,179,4],[198,7,179,5],[198,8,179,6],[198,15,179,13,"error"],[198,20,179,18],[198,22,179,20],[199,8,180,6,"console"],[199,15,180,13],[199,16,180,14,"error"],[199,21,180,19],[199,22,180,20],[199,44,180,42],[199,46,180,44,"error"],[199,51,180,49],[199,52,180,50],[200,6,181,4],[200,7,181,5],[200,16,181,14],[201,8,182,6],[202,8,183,6],[202,14,183,12,"AsyncStorage"],[202,26,183,24],[202,27,183,24,"default"],[202,34,183,24],[202,35,183,25,"removeItem"],[202,45,183,35],[202,46,183,36],[202,61,183,51],[202,62,183,52],[203,8,184,6],[203,12,184,6,"setAuthToken"],[203,21,184,18],[203,22,184,18,"setAuthToken"],[203,34,184,18],[203,36,184,19],[203,40,184,23],[203,41,184,24],[204,8,185,6,"setUser"],[204,15,185,13],[204,16,185,14],[204,20,185,18],[204,21,185,19],[205,8,186,6,"setIsAuthenticated"],[205,26,186,24],[205,27,186,25],[205,32,186,30],[205,33,186,31],[206,8,187,6,"setNeedsOnboarding"],[206,26,187,24],[206,27,187,25],[206,32,187,30],[206,33,187,31],[208,8,189,6],[209,8,190,6],[209,14,190,12,"gmailLogoutUrl"],[209,28,190,26],[209,31,190,29],[209,79,190,77],[210,8,191,6],[210,12,191,10,"Platform"],[210,20,191,18],[210,21,191,18,"default"],[210,28,191,18],[210,29,191,19,"OS"],[210,31,191,21],[210,36,191,26],[210,41,191,31],[210,43,191,33],[211,10,192,8,"window"],[211,16,192,14],[211,17,192,15,"open"],[211,21,192,19],[211,22,192,20,"gmailLogoutUrl"],[211,36,192,34],[211,38,192,36],[211,46,192,44],[211,47,192,45],[212,8,193,6],[212,9,193,7],[212,15,193,13],[213,10,194,8],[213,16,194,14,"WebBrowser"],[213,26,194,24],[213,27,194,25,"openBrowserAsync"],[213,43,194,41],[213,44,194,42,"gmailLogoutUrl"],[213,58,194,56],[213,59,194,57],[214,8,195,6],[215,6,196,4],[216,4,197,2],[216,5,197,3],[217,4,199,2],[217,10,199,8,"handleSetUser"],[217,23,199,21],[217,26,199,25,"userData"],[217,34,199,38],[217,38,199,43],[218,6,200,4,"setUser"],[218,13,200,11],[218,14,200,12,"userData"],[218,22,200,20],[218,23,200,21],[219,6,201,4],[219,10,201,8,"userData"],[219,18,201,16],[219,20,201,18],[220,8,202,6,"setIsAuthenticated"],[220,26,202,24],[220,27,202,25],[220,31,202,29],[220,32,202,30],[221,8,203,6],[221,12,203,10],[221,13,203,11,"userData"],[221,21,203,19],[221,22,203,20,"height"],[221,28,203,26],[221,32,203,30],[221,33,203,31,"userData"],[221,41,203,39],[221,42,203,40,"weight"],[221,48,203,46],[221,52,203,50],[221,53,203,51,"userData"],[221,61,203,59],[221,62,203,60,"age"],[221,65,203,63],[221,69,203,67],[221,70,203,68,"userData"],[221,78,203,76],[221,79,203,77,"gender"],[221,85,203,83],[221,87,203,85],[222,10,204,8,"setNeedsOnboarding"],[222,28,204,26],[222,29,204,27],[222,33,204,31],[222,34,204,32],[223,8,205,6],[223,9,205,7],[223,15,205,13],[224,10,206,8,"setNeedsOnboarding"],[224,28,206,26],[224,29,206,27],[224,34,206,32],[224,35,206,33],[225,8,207,6],[226,6,208,4],[227,4,209,2],[227,5,209,3],[228,4,211,2],[228,24,212,4],[228,28,212,4,"_reactJsxDevRuntime"],[228,47,212,4],[228,48,212,4,"jsxDEV"],[228,54,212,4],[228,56,212,5,"AuthContext"],[228,67,212,16],[228,68,212,17,"Provider"],[228,76,212,25],[229,6,213,6,"value"],[229,11,213,11],[229,13,213,13],[230,8,214,8,"isAuthenticated"],[230,23,214,23],[231,8,215,8,"isLoading"],[231,17,215,17],[232,8,216,8,"user"],[232,12,216,12],[233,8,217,8,"login"],[233,13,217,13],[234,8,218,8,"logout"],[234,14,218,14],[235,8,219,8,"needsOnboarding"],[235,23,219,23],[236,8,220,8,"setUser"],[236,15,220,15],[236,17,220,17,"handleSetUser"],[236,30,220,30],[237,8,221,8,"setNeedsOnboarding"],[238,6,222,6],[238,7,222,8],[239,6,222,8,"children"],[239,14,222,8],[239,16,224,7,"children"],[240,4,224,15],[241,6,224,15,"fileName"],[241,14,224,15],[241,16,224,15,"_jsxFileName"],[241,28,224,15],[242,6,224,15,"lineNumber"],[242,16,224,15],[243,6,224,15,"columnNumber"],[243,18,224,15],[244,4,224,15],[244,11,225,26],[244,12,225,27],[245,2,227,0],[245,3,227,1],[246,0,227,2],[246,3]],"functionMap":{"names":["<global>","createContext$argument_0.login","createContext$argument_0.logout","createContext$argument_0.setUser","createContext$argument_0.setNeedsOnboarding","useAuth","AuthProvider","checkExistingSession","useEffect$argument_0","Linking.getInitialURL.then$argument_0","Linking.addEventListener$argument_1","<anonymous>","handleAuthRedirect","login","logout","handleSetUser"],"mappings":"AAA;SC4B,cD;UEC,cF;WGE,QH;sBIC,QJ;uBKG,6BL;yDMM;+BCM;GDuB;YEE;iCCY;KDI;yDEG;KFE;WGE;KHE;GFC;6BME;GNiD;gBOE;GPsB;iBQE;GRqB;wBSE;GTU;CNkB"},"hasCjsExports":false},"type":"js/module"}]}